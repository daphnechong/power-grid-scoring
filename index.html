<!DOCTYPE html>
<html lang="en">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

	<style type="text/css">
		
			.keep-margin: { margin-right: 0px !important;}
		
	</style>
</head>
<body>

	<div class="container">

		<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">


			<div class="panel panel-default" id="phase2">
			  <div class="panel-heading" role="tab" id="headingPhase2">
			    <a class="panel-title" role="button" onClick="showPanel('phase2body')"><h3>Phase 2: Auction Power Plants</h3></a>
			  </div>
			  <div id="phase2body" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingPhase2">
				  <div class="panel-body">
				    <div class="form-inline">
						  <div class="form-group">
						    <label class="sr-only" for="powerplantcost">Power plant cost</label>
						    <div class="input-group input-group-lg">
						      <div class="input-group-addon">$</div>
						      <input type="text" class="form-control" id="powerplantcost" placeholder="Power plant cost">
						    </div>
						  </div>
						  <div style="margin-right:0px" class="navbar-right">
							  <button class="btn btn-lg btn-default" onClick="buyPowerPlant();showPanel('phase3body');">Done</button>
							</div>
						</div>
				  </div>
				</div>
			</div>


			<div class="panel panel-default" id="phase3">
			  <div class="panel-heading" role="tab" id="headingPhase3">
			    <a class="collapsed panel-title" role="button" onClick="showPanel('phase3body')" ><h3>Phase 3: Buy Resources</h3></a>	
			  </div>
			  <div id="phase3body" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingPhase3">
				  <div class="panel-body">
					  <div class="btn-group" role="group">
						  <button type="button" class="btn btn-lg btn-default" onClick="addToTotal(-1)">1</button>
						  <button type="button" class="btn btn-lg btn-default" onClick="addToTotal(-2)">2</button>
						  <button type="button" class="btn btn-lg btn-default" onClick="addToTotal(-3)">3</button>
						  <button type="button" class="btn btn-lg btn-default"
						   onClick="addToTotal(-4)">4</button>
						  <button type="button" class="btn btn-lg btn-default" onClick="addToTotal(-5)">5</button>
						  <button type="button" class="btn btn-lg btn-default"  onClick="addToTotal(-6)">6</button>
						  <button type="button" class="btn btn-lg btn-default"  onClick="addToTotal(-7)">7</button>
						  <button type="button" class="btn btn-lg btn-default"
						   onClick="addToTotal(-8)">8</button>
						 </div>
						 <div class="btn-group" role="group">
						  <button type="button" class="btn btn-lg btn-default"  onClick="addToTotal(-10)">10</button>
						  <button type="button" class="btn btn-lg btn-default"  onClick="addToTotal(-12)">12</button>
						  <button type="button" class="btn btn-lg btn-default"  onClick="addToTotal(-14)">14</button>
						  <button type="button" class="btn btn-lg btn-default"  onClick="addToTotal(-16)">16</button>
						</div>

						<button type="button" class="btn btn-lg btn-default navbar-right" style="margin-right:0px" onClick="showPanel('phase4body')">Done</button>
					</div>
				</div>
			</div>


			<div class="panel panel-default" id="phase4">
			  <div class="panel-heading" role="tab" id="headingPhase4">
			    	<a class="collapsed panel-title" role="button" 

			    	onClick="showPanel('phase4body')"><h3>Phase 4: Building</h3></a>
			  </div>
			  <div id="phase4body" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingPhase4">
				  <div class="panel-body">
						<div class="form-inline">
						  <div class="form-group">
						  	<div class="btn-group" role="group">
								  <button type="button" class="btn btn-lg btn-default" onClick="addToTotal(-10)">10</button>
								  <button type="button" class="btn btn-lg btn-default" onClick="addToTotal(-15)">15</button>
								  <button type="button" class="btn btn-lg btn-default" onClick="addToTotal(-20)">20</button>

								</div>
						    <label class="sr-only" for="connectioncost">Connection cost</label>
						    <div class="input-group input-group-lg">
						      <div class="input-group-addon">$</div>
						      <input type="text" class="form-control" id="connectioncost" placeholder="Connection cost">
						    </div>
						  </div>
						  <button class="btn btn-lg btn-default" onClick="addConnection();">Add</button>
						</div>

						<button type="button" class="btn btn-lg btn-default navbar-right" style="margin-right:0px" onClick="showPanel('phase5body')">Done</button>
				</div>
			</div>
	  </div>


	  <div class="panel panel-default" id="phase5">
			  <div class="panel-heading" role="tab" id="headingPhase5">
			    	<a class="collapsed panel-title" role="button" onClick="showPanel('phase5body')"><h3>Phase 5: Bureaucracy</h3></a>
			  </div>
			  <div id="phase5body" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingPhase5">
				  <div class="panel-body">
 						<div class="btn-group" role="group">
						  <button type="button" class="btn btn-lg btn-default" onClick="powerCities(0)">0</button>

						  <button type="button" class="btn btn-lg btn-default" onClick="powerCities(1)">1</button>
						  <button type="button" class="btn btn-lg btn-default" onClick="powerCities(2)">2</button>
						  <button type="button" class="btn btn-lg btn-default" onClick="powerCities(3)">3</button>
						  <button type="button" class="btn btn-lg btn-default"
						   onClick="powerCities(4)">4</button>
						  <button type="button" class="btn btn-lg btn-default" onClick="powerCities(5)">5</button>
						  <button type="button" class="btn btn-lg btn-default"  onClick="powerCities(6)">6</button>
						  <button type="button" class="btn btn-lg btn-default"  onClick="powerCities(7)">7</button>
						  <button type="button" class="btn btn-lg btn-default"
						   onClick="powerCities(8)">8</button>
						 </div>
						 <div class="btn-group" role="group">
						   <button type="button" class="btn btn-lg btn-default" onClick="powerCities(9)">9</button>
						  <button type="button" class="btn btn-lg btn-default" onClick="powerCities(10)">10</button>
						  <button type="button" class="btn btn-lg btn-default" onClick="powerCities(11)">11</button>
						  <button type="button" class="btn btn-lg btn-default"
						   onClick="powerCities(12)">12</button>
						  <button type="button" class="btn btn-lg btn-default" onClick="powerCities(13)">13</button>
						  <button type="button" class="btn btn-lg btn-default"  onClick="powerCities(14)">14</button>
						  <button type="button" class="btn btn-lg btn-default"  onClick="powerCities(15)">15</button>
						  <button type="button" class="btn btn-lg btn-default"
						   onClick="powerCities(16)">16</button>
						   <button type="button" class="btn btn-lg btn-default"
						   onClick="powerCities(17)">17</button>
						 </div>

						<button type="button" class="btn btn-lg btn-default navbar-right" style="margin-right:0px" onClick="showPanel('phase2body')">Done</button>
				</div>
			</div>
	  </div>
	</div>

	<div class="panel panel-default">
		<div class="panel-body">
			<h3>Total: <span id="total">50</span></h3>
		</div>
	</div>


</div>

<!-- Latest compiled and minified JavaScript -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script lang="JavaScript">
	var total = 50;

	function showPanel(panel) {
		$('.collapse').collapse('hide');
		$('#' + panel).collapse('show');
	}

	function addToTotal(value) {
		console.log('addToTotal: adding value ' + value);
		total = parseInt(total) + parseInt(value);
		$('#total').text(total)
	}

	function buyPowerPlant() {
		$('input#powerplantcost').val(function(index, value) {
			if (value !== '') {
				console.log('buying power plant');
				addToTotal(-parseInt(value));
			}
		});
	}

	function addConnection() {
		$('input#connectioncost').val(function(index, value) {
			if (value !== '') {
				console.log('adding connection');
				addToTotal(-parseInt(value));
			}
		});
	}

	function powerCities(count) {
		console.log('Powering cities: ' + count)
		switch(count) {
			case 0: addToTotal(10); break;
			case 1: addToTotal(22); break;
			case 2: addToTotal(33); break;
			case 3: addToTotal(44); break;
			case 4: addToTotal(54); break;
			case 5: addToTotal(64); break;
			case 6: addToTotal(73); break;
			case 7: addToTotal(82); break;
			case 8: addToTotal(90); break;
			case 9: addToTotal(98); break;
			case 10: addToTotal(105); break;
			case 11: addToTotal(112); break;
			case 12: addToTotal(118); break;
			case 13: addToTotal(124); break;
			case 14: addToTotal(129); break;
			case 15: addToTotal(134); break;
			case 16: addToTotal(138); break;
			case 17: addToTotal(142); break;
		}
	}

</script>
</body>
</html>